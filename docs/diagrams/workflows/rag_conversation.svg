<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.4 (20251115.1723)
 -->
<!-- Title: workflow Pages: 1 -->
<svg width="498pt" height="1166pt"
 viewBox="0.00 0.00 498.00 1166.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1162)">
<title>workflow</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1162 493.76,-1162 493.76,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="244.88" y="-1140.7" font-family="Times,serif" font-size="14.00">conversation</text>
<!-- load_history -->
<g id="node1" class="node">
<title>load_history</title>
<polygon fill="#e8f5e9" stroke="black" points="489.76,-1133.5 201.15,-1133.5 126.9,-967.5 415.52,-967.5 489.76,-1133.5"/>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-1074.7" font-family="Helvetica,sans-Serif" font-size="14.00">Load Conversation History</text>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-1059.7" font-family="Helvetica,sans-Serif" font-size="14.00">(compute)</text>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-1044.7" font-family="Helvetica,sans-Serif" font-size="14.00">exec: in&#45;process</text>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-1029.7" font-family="Helvetica,sans-Serif" font-size="14.00">blocked: [llm, write]</text>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-1014.7" font-family="Helvetica,sans-Serif" font-size="14.00">timeout: 10s</text>
</g>
<!-- contextualize -->
<g id="node2" class="node">
<title>contextualize</title>
<path fill="#e3f2fd" stroke="black" d="M365.83,-930.5C365.83,-930.5 250.83,-930.5 250.83,-930.5 244.83,-930.5 238.83,-924.5 238.83,-918.5 238.83,-918.5 238.83,-889.5 238.83,-889.5 238.83,-883.5 244.83,-877.5 250.83,-877.5 250.83,-877.5 365.83,-877.5 365.83,-877.5 371.83,-877.5 377.83,-883.5 377.83,-889.5 377.83,-889.5 377.83,-918.5 377.83,-918.5 377.83,-924.5 371.83,-930.5 365.83,-930.5"/>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-913.2" font-family="Helvetica,sans-Serif" font-size="14.00">Contextualize Query</text>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-898.2" font-family="Helvetica,sans-Serif" font-size="14.00">(agent)</text>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-883.2" font-family="Helvetica,sans-Serif" font-size="14.00">role: analyst</text>
</g>
<!-- load_history&#45;&gt;contextualize -->
<g id="edge1" class="edge">
<title>load_history&#45;&gt;contextualize</title>
<path fill="none" stroke="black" d="M308.33,-967.12C308.33,-958.37 308.33,-949.81 308.33,-941.99"/>
<polygon fill="black" stroke="black" points="311.83,-942.26 308.33,-932.26 304.83,-942.26 311.83,-942.26"/>
</g>
<!-- parallel_search -->
<g id="node3" class="node">
<title>parallel_search</title>
<polygon fill="#f3e5f5" stroke="black" points="376.71,-836.5 239.96,-836.5 239.96,-798.5 376.71,-798.5 376.71,-836.5"/>
<polygon fill="none" stroke="black" points="380.71,-840.5 235.96,-840.5 235.96,-794.5 380.71,-794.5 380.71,-840.5"/>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-819.2" font-family="Helvetica,sans-Serif" font-size="14.00">Search with Context</text>
<text xml:space="preserve" text-anchor="middle" x="308.33" y="-804.2" font-family="Helvetica,sans-Serif" font-size="14.00">(parallel)</text>
</g>
<!-- contextualize&#45;&gt;parallel_search -->
<g id="edge2" class="edge">
<title>contextualize&#45;&gt;parallel_search</title>
<path fill="none" stroke="black" d="M308.33,-877.19C308.33,-869.27 308.33,-860.44 308.33,-852.08"/>
<polygon fill="black" stroke="black" points="311.83,-852.24 308.33,-842.24 304.83,-852.24 311.83,-852.24"/>
</g>
<!-- dense_search -->
<g id="node4" class="node">
<title>dense_search</title>
<polygon fill="#e8f5e9" stroke="black" points="272.67,-747.25 55.79,-747.25 0,-581.25 216.88,-581.25 272.67,-747.25"/>
<text xml:space="preserve" text-anchor="middle" x="136.33" y="-688.45" font-family="Helvetica,sans-Serif" font-size="14.00">Dense Search</text>
<text xml:space="preserve" text-anchor="middle" x="136.33" y="-673.45" font-family="Helvetica,sans-Serif" font-size="14.00">(compute)</text>
<text xml:space="preserve" text-anchor="middle" x="136.33" y="-658.45" font-family="Helvetica,sans-Serif" font-size="14.00">exec: in&#45;process</text>
<text xml:space="preserve" text-anchor="middle" x="136.33" y="-643.45" font-family="Helvetica,sans-Serif" font-size="14.00">blocked: [llm, write]</text>
<text xml:space="preserve" text-anchor="middle" x="136.33" y="-628.45" font-family="Helvetica,sans-Serif" font-size="14.00">timeout: 30s</text>
</g>
<!-- parallel_search&#45;&gt;dense_search -->
<g id="edge3" class="edge">
<title>parallel_search&#45;&gt;dense_search</title>
<path fill="none" stroke="black" d="M282.95,-794.18C270.59,-783.31 254.82,-769.44 238.23,-754.85"/>
<polygon fill="black" stroke="black" points="240.99,-752.62 231.17,-748.64 236.37,-757.88 240.99,-752.62"/>
<text xml:space="preserve" text-anchor="middle" x="270.45" y="-767" font-family="Helvetica,sans-Serif" font-size="10.00">fork</text>
</g>
<!-- sparse_search -->
<g id="node5" class="node">
<title>sparse_search</title>
<polygon fill="#e8f5e9" stroke="black" points="325.67,-534 108.79,-534 53,-368 269.88,-368 325.67,-534"/>
<text xml:space="preserve" text-anchor="middle" x="189.33" y="-475.2" font-family="Helvetica,sans-Serif" font-size="14.00">Sparse Search</text>
<text xml:space="preserve" text-anchor="middle" x="189.33" y="-460.2" font-family="Helvetica,sans-Serif" font-size="14.00">(compute)</text>
<text xml:space="preserve" text-anchor="middle" x="189.33" y="-445.2" font-family="Helvetica,sans-Serif" font-size="14.00">exec: in&#45;process</text>
<text xml:space="preserve" text-anchor="middle" x="189.33" y="-430.2" font-family="Helvetica,sans-Serif" font-size="14.00">blocked: [llm, write]</text>
<text xml:space="preserve" text-anchor="middle" x="189.33" y="-415.2" font-family="Helvetica,sans-Serif" font-size="14.00">timeout: 15s</text>
</g>
<!-- parallel_search&#45;&gt;sparse_search -->
<g id="edge4" class="edge">
<title>parallel_search&#45;&gt;sparse_search</title>
<path fill="none" stroke="black" d="M309.4,-794.23C310.67,-751.42 309.76,-655.33 281.33,-581.25 276.47,-568.57 270.06,-555.98 262.89,-543.91"/>
<polygon fill="black" stroke="black" points="266.02,-542.31 257.78,-535.64 260.06,-545.99 266.02,-542.31"/>
<text xml:space="preserve" text-anchor="middle" x="317.57" y="-660.38" font-family="Helvetica,sans-Serif" font-size="10.00">fork</text>
</g>
<!-- generate -->
<g id="node6" class="node">
<title>generate</title>
<path fill="#e3f2fd" stroke="black" d="M354.33,-331C354.33,-331 188.33,-331 188.33,-331 182.33,-331 176.33,-325 176.33,-319 176.33,-319 176.33,-290 176.33,-290 176.33,-284 182.33,-278 188.33,-278 188.33,-278 354.33,-278 354.33,-278 360.33,-278 366.33,-284 366.33,-290 366.33,-290 366.33,-319 366.33,-319 366.33,-325 360.33,-331 354.33,-331"/>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-313.7" font-family="Helvetica,sans-Serif" font-size="14.00">Generate Contextual Answer</text>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-298.7" font-family="Helvetica,sans-Serif" font-size="14.00">(agent)</text>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-283.7" font-family="Helvetica,sans-Serif" font-size="14.00">role: writer</text>
</g>
<!-- parallel_search&#45;&gt;generate -->
<g id="edge5" class="edge">
<title>parallel_search&#45;&gt;generate</title>
<path fill="none" stroke="black" d="M317.37,-794.28C319.5,-788.55 321.65,-782.34 323.33,-776.5 327.01,-763.75 327.84,-760.44 329.33,-747.25 348.32,-579.75 399.15,-523.61 334.33,-368 329.93,-357.44 322.79,-347.75 314.86,-339.31"/>
<polygon fill="black" stroke="black" points="317.39,-336.89 307.81,-332.36 312.48,-341.88 317.39,-336.89"/>
<text xml:space="preserve" text-anchor="middle" x="370.76" y="-553.75" font-family="Helvetica,sans-Serif" font-size="10.00">join</text>
</g>
<!-- dense_search&#45;&gt;sparse_search -->
<g id="edge6" class="edge">
<title>dense_search&#45;&gt;sparse_search</title>
<path fill="none" stroke="black" d="M156.98,-580.97C159.91,-569.26 162.95,-557.15 165.94,-545.25"/>
<polygon fill="black" stroke="black" points="169.25,-546.42 168.29,-535.87 162.46,-544.72 169.25,-546.42"/>
</g>
<!-- sparse_search&#45;&gt;generate -->
<g id="edge7" class="edge">
<title>sparse_search&#45;&gt;generate</title>
<path fill="none" stroke="black" d="M236.08,-367.62C241.34,-358.35 246.47,-349.31 251.12,-341.12"/>
<polygon fill="black" stroke="black" points="254.08,-342.99 255.97,-332.57 247.99,-339.54 254.08,-342.99"/>
</g>
<!-- save_turn -->
<g id="node7" class="node">
<title>save_turn</title>
<polygon fill="#e8f5e9" stroke="black" points="438.77,-241 172.42,-241 103.9,-75 370.25,-75 438.77,-241"/>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-182.2" font-family="Helvetica,sans-Serif" font-size="14.00">Save Conversation Turn</text>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-167.2" font-family="Helvetica,sans-Serif" font-size="14.00">(compute)</text>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-152.2" font-family="Helvetica,sans-Serif" font-size="14.00">exec: in&#45;process</text>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-137.2" font-family="Helvetica,sans-Serif" font-size="14.00">blocked: [llm]</text>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-122.2" font-family="Helvetica,sans-Serif" font-size="14.00">timeout: 10s</text>
</g>
<!-- generate&#45;&gt;save_turn -->
<g id="edge8" class="edge">
<title>generate&#45;&gt;save_turn</title>
<path fill="none" stroke="black" d="M271.33,-277.67C271.33,-270.22 271.33,-261.64 271.33,-252.56"/>
<polygon fill="black" stroke="black" points="274.83,-252.8 271.33,-242.8 267.83,-252.8 274.83,-252.8"/>
</g>
<!-- complete -->
<g id="node8" class="node">
<title>complete</title>
<polygon fill="#eceff1" stroke="black" points="324.33,-38 218.33,-38 218.33,0 324.33,0 324.33,-38"/>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-20.7" font-family="Helvetica,sans-Serif" font-size="14.00">Turn Complete</text>
<text xml:space="preserve" text-anchor="middle" x="271.33" y="-5.7" font-family="Helvetica,sans-Serif" font-size="14.00">(transform)</text>
</g>
<!-- save_turn&#45;&gt;complete -->
<g id="edge9" class="edge">
<title>save_turn&#45;&gt;complete</title>
<path fill="none" stroke="black" d="M271.33,-74.54C271.33,-65.72 271.33,-57.22 271.33,-49.67"/>
<polygon fill="black" stroke="black" points="274.83,-49.82 271.33,-39.82 267.83,-49.82 274.83,-49.82"/>
</g>
</g>
</svg>
