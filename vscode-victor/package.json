{
  "name": "victor-ai",
  "displayName": "Victor AI Assistant",
  "description": "AI-powered coding assistant with multi-provider support, semantic code search, and enterprise tools",
  "version": "0.1.0",
  "publisher": "victor-ai",
  "license": "Apache-2.0",
  "icon": "resources/icon.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/vjsingh1984/victor"
  },
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Programming Languages",
    "Machine Learning",
    "Other"
  ],
  "keywords": [
    "ai",
    "assistant",
    "code",
    "copilot",
    "llm",
    "claude",
    "gpt",
    "ollama"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "victor.chat",
        "title": "Victor: Open Chat Panel",
        "icon": "$(comment-discussion)"
      },
      {
        "command": "victor.explain",
        "title": "Victor: Explain Selected Code"
      },
      {
        "command": "victor.refactor",
        "title": "Victor: Refactor Selected Code"
      },
      {
        "command": "victor.fix",
        "title": "Victor: Fix Issues in Selection"
      },
      {
        "command": "victor.test",
        "title": "Victor: Generate Tests for Selection"
      },
      {
        "command": "victor.document",
        "title": "Victor: Add Documentation"
      },
      {
        "command": "victor.search",
        "title": "Victor: Semantic Code Search"
      },
      {
        "command": "victor.switchModel",
        "title": "Victor: Switch AI Model"
      },
      {
        "command": "victor.switchMode",
        "title": "Victor: Switch Mode (Build/Plan/Explore)"
      },
      {
        "command": "victor.undo",
        "title": "Victor: Undo Last Change"
      },
      {
        "command": "victor.redo",
        "title": "Victor: Redo Last Change"
      },
      {
        "command": "victor.startServer",
        "title": "Victor: Start Server"
      },
      {
        "command": "victor.stopServer",
        "title": "Victor: Stop Server"
      },
      {
        "command": "victor.restartServer",
        "title": "Victor: Restart Server"
      },
      {
        "command": "victor.serverStatus",
        "title": "Victor: Server Status"
      },
      {
        "command": "victor.showServerLogs",
        "title": "Victor: Show Server Logs"
      },
      {
        "command": "victor.showPendingChanges",
        "title": "Victor: Show Pending Changes",
        "icon": "$(git-compare)"
      },
      {
        "command": "victor.applyAllChanges",
        "title": "Victor: Apply All Pending Changes",
        "icon": "$(check-all)"
      },
      {
        "command": "victor.rejectAllChanges",
        "title": "Victor: Reject All Pending Changes",
        "icon": "$(close-all)"
      },
      {
        "command": "victor.refreshHistory",
        "title": "Victor: Refresh History",
        "icon": "$(refresh)"
      },
      {
        "command": "victor.refreshTools",
        "title": "Victor: Refresh Tools",
        "icon": "$(refresh)"
      },
      {
        "command": "victor.showToolInfo",
        "title": "Victor: Show Tool Info"
      },
      {
        "command": "victor.undoFromHistory",
        "title": "Victor: Undo Change",
        "icon": "$(discard)"
      },
      {
        "command": "victor.showRecentChanges",
        "title": "Victor: Show Recent File Changes",
        "icon": "$(history)"
      },
      {
        "command": "victor.addContext",
        "title": "Victor: Add Context (@-mentions)"
      },
      {
        "command": "victor.previewContext",
        "title": "Victor: Preview Context"
      },
      {
        "command": "victor.showTerminal",
        "title": "Victor: Show Terminal"
      },
      {
        "command": "victor.runCommand",
        "title": "Victor: Run Command"
      },
      {
        "command": "victor.showCommandLogs",
        "title": "Victor: Show Command Logs"
      },
      {
        "command": "victor.killTerminal",
        "title": "Victor: Kill Terminal"
      },
      {
        "command": "victor.goToDiagnostic",
        "title": "Victor: Go to Diagnostic"
      },
      {
        "command": "victor.fixDiagnosticFromView",
        "title": "Victor: Fix with AI",
        "icon": "$(lightbulb-autofix)"
      },
      {
        "command": "victor.fixAllInFile",
        "title": "Victor: Fix All in File",
        "icon": "$(sparkle)"
      },
      {
        "command": "victor.refreshDiagnostics",
        "title": "Victor: Refresh Diagnostics",
        "icon": "$(refresh)"
      },
      {
        "command": "victor.openSettings",
        "title": "Victor: Open Settings"
      },
      {
        "command": "victor.refreshWorkspaceInsights",
        "title": "Victor: Refresh Workspace Insights",
        "icon": "$(refresh)"
      },
      {
        "command": "victor.runSecurityScan",
        "title": "Victor: Run Security Scan",
        "icon": "$(shield)"
      },
      {
        "command": "victor.refreshGitPanel",
        "title": "Victor: Refresh Git Panel",
        "icon": "$(refresh)"
      },
      {
        "command": "victor.aiCommit",
        "title": "Victor: AI-Assisted Commit",
        "icon": "$(sparkle)"
      },
      {
        "command": "victor.stageFile",
        "title": "Victor: Stage File",
        "icon": "$(add)"
      },
      {
        "command": "victor.unstageFile",
        "title": "Victor: Unstage File",
        "icon": "$(remove)"
      },
      {
        "command": "victor.showGitDiff",
        "title": "Victor: Show Git Diff"
      },
      {
        "command": "victor.refreshMcp",
        "title": "Victor: Refresh MCP Servers",
        "icon": "$(refresh)"
      },
      {
        "command": "victor.addMcpServer",
        "title": "Victor: Add MCP Server",
        "icon": "$(add)"
      },
      {
        "command": "victor.connectMcpServer",
        "title": "Victor: Connect MCP Server",
        "icon": "$(plug)"
      },
      {
        "command": "victor.disconnectMcpServer",
        "title": "Victor: Disconnect MCP Server",
        "icon": "$(debug-disconnect)"
      },
      {
        "command": "victor.showMcpServerInfo",
        "title": "Victor: Show MCP Server Info"
      },
      {
        "command": "victor.exportConversation",
        "title": "Victor: Export Conversation",
        "icon": "$(export)"
      },
      {
        "command": "victor.viewPendingApprovals",
        "title": "Victor: View Pending Tool Approvals",
        "icon": "$(checklist)"
      },
      {
        "command": "victor.manageAutoApprovals",
        "title": "Victor: Manage Auto-Approval Rules",
        "icon": "$(settings-gear)"
      },
      {
        "command": "victor.viewApprovalHistory",
        "title": "Victor: View Tool Approval History",
        "icon": "$(history)"
      },
      {
        "command": "victor.configureProviderKey",
        "title": "Victor: Configure Provider API Key",
        "icon": "$(key)"
      },
      {
        "command": "victor.testProviderConnection",
        "title": "Victor: Test Provider Connection",
        "icon": "$(debug-start)"
      },
      {
        "command": "victor.configureProviderParams",
        "title": "Victor: Configure Provider Parameters",
        "icon": "$(settings-gear)"
      },
      {
        "command": "victor.viewProviderStatus",
        "title": "Victor: View Provider Status",
        "icon": "$(pulse)"
      },
      {
        "command": "victor.toggleCodeLens",
        "title": "Victor: Toggle CodeLens Suggestions"
      },
      {
        "command": "victor.askAboutSymbol",
        "title": "Victor: Ask About Symbol"
      },
      {
        "command": "victor.explainSymbol",
        "title": "Victor: Explain Symbol"
      },
      {
        "command": "victor.generateTestsForSymbol",
        "title": "Victor: Generate Tests for Symbol"
      },
      {
        "command": "victor.documentSymbol",
        "title": "Victor: Document Symbol"
      },
      {
        "command": "victor.optimizeSymbol",
        "title": "Victor: Optimize Symbol"
      },
      {
        "command": "victor.refactorSymbol",
        "title": "Victor: Refactor Symbol"
      },
      {
        "command": "victor.reviewSymbol",
        "title": "Victor: Review Symbol"
      },
      {
        "command": "victor.toggleCodeActions",
        "title": "Victor: Toggle Code Actions (Lightbulb)"
      },
      {
        "command": "victor.fixWithAI",
        "title": "Victor: Fix with AI",
        "icon": "$(lightbulb-autofix)"
      },
      {
        "command": "victor.explainWithAI",
        "title": "Victor: Explain with AI",
        "icon": "$(question)"
      },
      {
        "command": "victor.refactorWithAI",
        "title": "Victor: Refactor with AI",
        "icon": "$(edit)"
      },
      {
        "command": "victor.generateTestsWithAI",
        "title": "Victor: Generate Tests with AI",
        "icon": "$(beaker)"
      },
      {
        "command": "victor.documentWithAI",
        "title": "Victor: Add Documentation with AI",
        "icon": "$(book)"
      },
      {
        "command": "victor.optimizeWithAI",
        "title": "Victor: Optimize with AI",
        "icon": "$(zap)"
      },
      {
        "command": "victor.reviewWithAI",
        "title": "Victor: Review with AI",
        "icon": "$(eye)"
      },
      {
        "command": "victor.toggleHover",
        "title": "Victor: Toggle Hover Tooltips"
      },
      {
        "command": "victor.setHoverVerbosity",
        "title": "Victor: Set Hover Verbosity Level"
      },
      {
        "command": "victor.showToolExecutions",
        "title": "Victor: Show Tool Executions",
        "icon": "$(tools)"
      },
      {
        "command": "victor.cancelAllToolExecutions",
        "title": "Victor: Cancel All Tool Executions",
        "icon": "$(close-all)"
      },
      {
        "command": "victor.clearToolExecutionHistory",
        "title": "Victor: Clear Tool Execution History",
        "icon": "$(trash)"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "command": "victor.chat",
          "when": "resourceScheme == file",
          "group": "navigation@1"
        }
      ],
      "editor/context": [
        {
          "submenu": "victor.submenu",
          "group": "victor"
        }
      ],
      "victor.submenu": [
        {
          "command": "victor.explain",
          "when": "editorHasSelection"
        },
        {
          "command": "victor.refactor",
          "when": "editorHasSelection"
        },
        {
          "command": "victor.fix",
          "when": "editorHasSelection"
        },
        {
          "command": "victor.test",
          "when": "editorHasSelection"
        },
        {
          "command": "victor.document",
          "when": "editorHasSelection"
        }
      ],
      "view/title": [
        {
          "command": "victor.refreshHistory",
          "when": "view == victor.historyView",
          "group": "navigation"
        },
        {
          "command": "victor.refreshTools",
          "when": "view == victor.toolsView",
          "group": "navigation"
        },
        {
          "command": "victor.refreshDiagnostics",
          "when": "view == victor.diagnosticsView",
          "group": "navigation"
        },
        {
          "command": "victor.refreshWorkspaceInsights",
          "when": "view == victor.workspaceInsightsView",
          "group": "navigation"
        },
        {
          "command": "victor.runSecurityScan",
          "when": "view == victor.workspaceInsightsView",
          "group": "navigation"
        },
        {
          "command": "victor.refreshGitPanel",
          "when": "view == victor.gitPanelView",
          "group": "navigation"
        },
        {
          "command": "victor.aiCommit",
          "when": "view == victor.gitPanelView",
          "group": "navigation"
        },
        {
          "command": "victor.refreshMcp",
          "when": "view == victor.mcpView",
          "group": "navigation"
        },
        {
          "command": "victor.addMcpServer",
          "when": "view == victor.mcpView",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "victor.undoFromHistory",
          "when": "view == victor.historyView && viewItem == undoable",
          "group": "inline"
        },
        {
          "command": "victor.fixDiagnosticFromView",
          "when": "view == victor.diagnosticsView && viewItem == diagnostic",
          "group": "inline"
        },
        {
          "command": "victor.fixAllInFile",
          "when": "view == victor.diagnosticsView && viewItem == diagnosticFile",
          "group": "inline"
        },
        {
          "command": "victor.stageFile",
          "when": "view == victor.gitPanelView && viewItem == file",
          "group": "inline"
        },
        {
          "command": "victor.unstageFile",
          "when": "view == victor.gitPanelView && viewItem == stagedFile",
          "group": "inline"
        },
        {
          "command": "victor.connectMcpServer",
          "when": "view == victor.mcpView && viewItem == disconnectedServer",
          "group": "inline"
        },
        {
          "command": "victor.disconnectMcpServer",
          "when": "view == victor.mcpView && viewItem == connectedServer",
          "group": "inline"
        }
      ]
    },
    "submenus": [
      {
        "id": "victor.submenu",
        "label": "Victor AI"
      }
    ],
    "keybindings": [
      {
        "command": "victor.chat",
        "key": "ctrl+shift+v",
        "mac": "cmd+shift+v"
      },
      {
        "command": "victor.explain",
        "key": "ctrl+shift+e",
        "mac": "cmd+shift+e",
        "when": "editorHasSelection"
      },
      {
        "command": "victor.search",
        "key": "ctrl+shift+s",
        "mac": "cmd+shift+s"
      }
    ],
    "configuration": {
      "title": "Victor AI",
      "properties": {
        "victor.serverUrl": {
          "type": "string",
          "default": "http://127.0.0.1:8000",
          "description": "URL of the Victor server (deprecated, use serverPort instead)"
        },
        "victor.serverPort": {
          "type": "number",
          "default": 8000,
          "description": "Port for the Victor server"
        },
        "victor.serverApiKey": {
          "type": "string",
          "default": "",
          "description": "API key for authenticating with the Victor server (Authorization: Bearer <token>)"
        },
        "victor.pythonPath": {
          "type": "string",
          "default": "",
          "description": "Path to Python executable (leave empty for auto-detection)"
        },
        "victor.victorPath": {
          "type": "string",
          "default": "",
          "description": "Path to bundled Victor binary (for standalone distribution)"
        },
        "victor.provider": {
          "type": "string",
          "enum": [
            "anthropic",
            "openai",
            "ollama",
            "google",
            "lmstudio",
            "vllm",
            "xai"
          ],
          "default": "anthropic",
          "description": "Default LLM provider"
        },
        "victor.model": {
          "type": "string",
          "default": "claude-sonnet-4-20250514",
          "description": "Default model to use"
        },
        "victor.mode": {
          "type": "string",
          "enum": [
            "build",
            "plan",
            "explore"
          ],
          "default": "build",
          "description": "Agent mode"
        },
        "victor.autoStart": {
          "type": "boolean",
          "default": false,
          "description": "Automatically start Victor server on activation"
        },
        "victor.showInlineCompletions": {
          "type": "boolean",
          "default": true,
          "description": "Show inline code completions"
        },
        "victor.semanticSearch.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable semantic code search"
        },
        "victor.semanticSearch.maxResults": {
          "type": "number",
          "default": 10,
          "description": "Maximum number of semantic search results"
        },
        "victor.codeLens.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable CodeLens for AI suggestions above functions and classes"
        },
        "victor.codeLens.actions": {
          "type": "array",
          "default": ["ask", "explain", "test"],
          "items": {
            "type": "string",
            "enum": ["ask", "explain", "test", "document", "optimize", "refactor", "review"]
          },
          "description": "Actions to show in CodeLens"
        },
        "victor.codeLens.showOnFunctions": {
          "type": "boolean",
          "default": true,
          "description": "Show CodeLens on functions"
        },
        "victor.codeLens.showOnClasses": {
          "type": "boolean",
          "default": true,
          "description": "Show CodeLens on classes"
        },
        "victor.codeLens.showOnMethods": {
          "type": "boolean",
          "default": true,
          "description": "Show CodeLens on methods"
        },
        "victor.codeLens.showOnInterfaces": {
          "type": "boolean",
          "default": true,
          "description": "Show CodeLens on interfaces"
        },
        "victor.codeLens.maxSymbolsPerFile": {
          "type": "number",
          "default": 100,
          "description": "Maximum number of symbols to show CodeLens for per file"
        },
        "victor.codeLens.debounceMs": {
          "type": "number",
          "default": 500,
          "description": "Debounce time for CodeLens updates in milliseconds"
        },
        "victor.codeActions.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable Victor AI code actions in the lightbulb menu"
        },
        "victor.hover.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable Victor AI hover tooltips"
        },
        "victor.hover.verbosity": {
          "type": "string",
          "enum": ["minimal", "standard", "detailed"],
          "default": "standard",
          "description": "Verbosity level for hover tooltips"
        },
        "victor.hover.showAIExplanation": {
          "type": "boolean",
          "default": true,
          "description": "Show AI-powered explanations in hover"
        },
        "victor.hover.showQuickActions": {
          "type": "boolean",
          "default": true,
          "description": "Show quick action links in hover"
        },
        "victor.hover.cacheTimeoutMs": {
          "type": "number",
          "default": 300000,
          "description": "Cache timeout for hover results in milliseconds (default: 5 minutes)"
        },
        "victor.hover.debounceMs": {
          "type": "number",
          "default": 150,
          "description": "Debounce time for hover requests in milliseconds"
        }
      }
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "victor",
          "title": "Victor AI",
          "icon": "$(hubot)"
        }
      ]
    },
    "views": {
      "victor": [
        {
          "type": "webview",
          "id": "victor.chatView",
          "name": "Chat"
        },
        {
          "id": "victor.historyView",
          "name": "History"
        },
        {
          "id": "victor.toolsView",
          "name": "Tools"
        },
        {
          "id": "victor.terminalHistoryView",
          "name": "Commands"
        },
        {
          "id": "victor.diagnosticsView",
          "name": "Diagnostics"
        },
        {
          "id": "victor.workspaceInsightsView",
          "name": "Workspace Insights"
        },
        {
          "id": "victor.gitPanelView",
          "name": "Git"
        },
        {
          "id": "victor.mcpView",
          "name": "MCP Servers"
        },
        {
          "type": "webview",
          "id": "victor.settingsView",
          "name": "Settings"
        }
      ]
    },
    "walkthroughs": [
      {
        "id": "victor.welcome",
        "title": "Get Started with Victor AI",
        "description": "AI-powered coding assistant with multi-provider support",
        "steps": [
          {
            "id": "openChat",
            "title": "Open Chat Panel",
            "description": "Start a conversation with Victor AI to get coding assistance.\n\n[Open Chat](command:victor.chat)",
            "media": {
              "image": "resources/icon.png",
              "altText": "Victor AI Chat"
            },
            "completionEvents": ["onCommand:victor.chat"]
          },
          {
            "id": "configureProvider",
            "title": "Configure AI Provider",
            "description": "Choose your preferred AI provider (Anthropic, OpenAI, Ollama, etc.).\n\n[Open Settings](command:victor.openSettings)",
            "media": {
              "image": "resources/icon.png",
              "altText": "Victor AI Settings"
            },
            "completionEvents": ["onCommand:victor.openSettings"]
          },
          {
            "id": "explainCode",
            "title": "Explain Code",
            "description": "Select code and ask Victor to explain it.\n\n[Explain Selection](command:victor.explain)",
            "media": {
              "image": "resources/icon.png",
              "altText": "Explain Code"
            },
            "completionEvents": ["onCommand:victor.explain"]
          },
          {
            "id": "semanticSearch",
            "title": "Semantic Code Search",
            "description": "Find code by describing what it does in natural language.\n\n[Search Code](command:victor.search)",
            "media": {
              "image": "resources/icon.png",
              "altText": "Semantic Search"
            },
            "completionEvents": ["onCommand:victor.search"]
          }
        ]
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile",
    "test": "node ./out/test/runTest.js",
    "lint": "eslint src --ext ts",
    "package": "vsce package"
  },
  "devDependencies": {
    "@types/glob": "^8.1.0",
    "@types/mocha": "^10.0.10",
    "@types/node": "^20.10.0",
    "@types/vscode": "^1.85.0",
    "@types/ws": "^8.5.10",
    "@typescript-eslint/eslint-plugin": "^6.13.0",
    "@typescript-eslint/parser": "^6.13.0",
    "@vscode/test-electron": "^2.3.8",
    "@vscode/vsce": "^2.22.0",
    "eslint": "^8.54.0",
    "glob": "^13.0.0",
    "mocha": "^11.7.5",
    "typescript": "^5.3.0"
  },
  "dependencies": {
    "axios": "^1.6.0",
    "form-data": "^4.0.0",
    "ws": "^8.14.0"
  }
}
