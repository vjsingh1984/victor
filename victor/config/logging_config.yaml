# Victor Logging Configuration
#
# This is the package-level default. Users can override in ~/.victor/config.yaml
# Environment variables take precedence over both:
#   - VICTOR_LOG_LEVEL: Override console level (e.g., DEBUG, INFO, WARNING)
#   - VICTOR_LOG_FILE_LEVEL: Override file level
#   - VICTOR_LOG_FILE: Override log file path
#   - VICTOR_LOG_DISABLED: Set to "true" to disable file logging
#
# CLI arguments have highest priority.

logging:
  # Default levels for all commands
  default:
    console_level: WARNING      # Console output: WARNING for clean output
    file_level: INFO            # File output: INFO for debugging
    file_enabled: true          # Enable file logging
    file_path: ~/.victor/logs/victor.log
    file_max_bytes: 10485760    # 10MB max per file
    file_backup_count: 5        # Keep 5 rotated backups
    console_format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    file_format: "%(asctime)s - %(session)s - %(name)s - %(levelname)s - %(message)s"
    event_logging: true         # Enable EventBus -> logging integration

  # Per-command overrides (inherit from default, only specify differences)
  commands:
    # chat: uses defaults (WARNING console, INFO file)
    benchmark:
      file_level: DEBUG         # Detailed logs for debugging stage transitions
    serve:
      console_level: INFO       # Servers show more visibility
    debug:
      console_level: DEBUG
      file_level: DEBUG
    index:
      console_level: INFO       # Show indexing progress
    mcp:
      console_level: INFO       # MCP server visibility

  # Module-specific level overrides (reduce noise from chatty libraries)
  modules:
    # HTTP/Network libraries (very verbose at DEBUG)
    httpx: WARNING
    httpcore: WARNING
    urllib3: WARNING
    requests: WARNING
    aiohttp: WARNING
    http.client: WARNING
    hpack: WARNING
    h2: WARNING
    h11: WARNING
    # Async/IO libraries
    asyncio: WARNING
    aiofiles: WARNING
    watchfiles: WARNING
    # Database libraries
    lancedb: WARNING
    chromadb: WARNING
    sqlite3: WARNING
    # ML libraries
    sentence_transformers: WARNING
    transformers: WARNING
    torch: WARNING
    # Other noisy libraries
    openai: WARNING
    anthropic: WARNING
    PIL: WARNING
    matplotlib: WARNING

    # Victor internal modules - downgrade startup noise to WARNING
    # These log initialization details that clutter logs
    victor.agent.service_provider: WARNING
    victor.core.verticals.vertical_loader: WARNING
    victor.coding.service_provider: WARNING
    victor.core.bootstrap: WARNING
    victor.agent.orchestrator_factory: WARNING
    victor.context.project_context: WARNING
    victor.core.database: WARNING
    victor.agent.rl.coordinator: WARNING
    victor.agent.rl.learners: WARNING
    victor.agent.rl.learners.cache_eviction: WARNING
    victor.agent.rl.learners.mode_transition: WARNING
    victor.storage.cache.tiered_cache: WARNING
    victor.agent.conversation_memory: WARNING
    victor.storage.embeddings.service: WARNING
    victor.agent.shared_tool_registry: WARNING
    victor.tools.plugin_registry: WARNING
    victor.tools.semantic_selector: WARNING
    victor.agent.unified_task_tracker: WARNING
    victor.agent.mode_controller: WARNING
    victor.agent.orchestrator_utils: WARNING
    victor.agent.capability_registry: WARNING
    victor.agent.conversation_embedding_store: WARNING
    victor.storage.embeddings.task_classifier: WARNING
    victor.storage.embeddings.intent_classifier: WARNING
    victor.agent.adaptive_mode_controller: WARNING
    victor.agent.model_switcher: WARNING
    victor.agent.provider_manager: WARNING
