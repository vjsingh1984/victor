# Model Capabilities Configuration
#
# This file defines tool calling capabilities for various models.
# The ToolCallingAdapterRegistry uses this to determine how to handle
# each model's tool calling behavior.
#
# Capability fields:
#   native_tool_calls: bool - Model returns structured tool_calls
#   streaming_tool_calls: bool - Tool calls can be streamed
#   parallel_tool_calls: bool - Model can request multiple tools at once
#   tool_choice_param: bool - Supports tool_choice parameter
#   json_fallback_parsing: bool - Can parse JSON tool calls from content
#   xml_fallback_parsing: bool - Can parse XML tool calls from content
#   thinking_mode: bool - Supports /think /no_think (Qwen3)
#   requires_strict_prompting: bool - Needs strict system prompts
#   recommended_max_tools: int - Max tools to send
#   recommended_tool_budget: int - Max tool calls per turn

# Default capabilities for unknown models
defaults:
  native_tool_calls: false
  streaming_tool_calls: false
  parallel_tool_calls: false
  tool_choice_param: false
  json_fallback_parsing: true
  xml_fallback_parsing: true
  thinking_mode: false
  requires_strict_prompting: true
  recommended_max_tools: 15
  recommended_tool_budget: 10

# Provider-level defaults
providers:
  anthropic:
    native_tool_calls: true
    streaming_tool_calls: true
    parallel_tool_calls: true
    tool_choice_param: true
    requires_strict_prompting: false
    recommended_max_tools: 50
    recommended_tool_budget: 20

  openai:
    native_tool_calls: true
    streaming_tool_calls: true
    parallel_tool_calls: true
    tool_choice_param: true
    requires_strict_prompting: false
    recommended_max_tools: 50
    recommended_tool_budget: 20

  google:
    native_tool_calls: true
    streaming_tool_calls: true
    parallel_tool_calls: true
    tool_choice_param: true
    requires_strict_prompting: false
    recommended_max_tools: 30
    recommended_tool_budget: 15

  xai:
    native_tool_calls: true
    streaming_tool_calls: true
    parallel_tool_calls: true
    tool_choice_param: true
    requires_strict_prompting: false
    recommended_max_tools: 30
    recommended_tool_budget: 15

  ollama:
    native_tool_calls: false
    streaming_tool_calls: false
    parallel_tool_calls: false
    tool_choice_param: false
    json_fallback_parsing: true
    xml_fallback_parsing: true
    requires_strict_prompting: true
    recommended_max_tools: 20
    recommended_tool_budget: 12

  lmstudio:
    native_tool_calls: false
    streaming_tool_calls: false
    parallel_tool_calls: false
    tool_choice_param: false
    json_fallback_parsing: true
    xml_fallback_parsing: true
    requires_strict_prompting: true
    recommended_max_tools: 20
    recommended_tool_budget: 12

  vllm:
    native_tool_calls: true
    streaming_tool_calls: true
    parallel_tool_calls: true
    tool_choice_param: true
    requires_strict_prompting: false
    recommended_max_tools: 30
    recommended_tool_budget: 15

# Model-specific overrides (patterns match model names)
# More specific patterns take precedence
models:
  # Llama models
  "llama3.1*":
    native_tool_calls: true
    streaming_tool_calls: false  # Ollama doesn't stream tool calls
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  "llama-3.1*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  "llama3.2*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  "llama3.3*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  # Qwen models
  "qwen2.5*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  "qwen-2.5*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  "qwen3*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    thinking_mode: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  "qwen-3*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    thinking_mode: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  # Mistral models
  "mistral*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  "mixtral*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  "ministral*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  # Command-R models
  "command-r*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  # Hermes models
  "hermes*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  # Functionary models
  "functionary*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 20

  # Firefunction
  "firefunction*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  # CodeLlama (limited tool support)
  "codellama*":
    native_tool_calls: false
    requires_strict_prompting: true
    recommended_tool_budget: 8

  # DeepSeek
  "deepseek*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  # Phi models (limited tool support)
  "phi*":
    native_tool_calls: false
    requires_strict_prompting: true
    recommended_tool_budget: 8

  # Gemma (limited tool support)
  "gemma*":
    native_tool_calls: false
    requires_strict_prompting: true
    recommended_tool_budget: 8

  # Yi models
  "yi*":
    native_tool_calls: false
    requires_strict_prompting: true
    recommended_tool_budget: 10

  # GPT-OSS (GPT-style open source model)
  "gpt-oss*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 15

  # Gemma3 models with tool support
  "gemma3*":
    native_tool_calls: true
    streaming_tool_calls: false
    parallel_tool_calls: true
    requires_strict_prompting: false
    recommended_tool_budget: 12
